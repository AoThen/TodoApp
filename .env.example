# =============================================================================
# TodoApp 环境变量配置
# =============================================================================
# 注意：首次启动必须配置 INITIAL_ADMIN_EMAIL 和 INITIAL_ADMIN_PASSWORD
# =============================================================================

# -----------------------------------------------------------------------------
# 必需配置
# -----------------------------------------------------------------------------

# JWT 签名密钥（至少 32 个字符，生产环境必须使用强随机密钥）
# 生成方式: openssl rand -hex 32
JWT_SECRET=your-super-secret-jwt-key-min-32-chars-long

# 初始管理员账户（首次启动时创建管理员账户，数据库为空时生效）
INITIAL_ADMIN_EMAIL=admin@example.com
INITIAL_ADMIN_PASSWORD=YourSecurePassword123!

# -----------------------------------------------------------------------------
# 可选配置
# -----------------------------------------------------------------------------

# 环境设置: development | production
ENVIRONMENT=development

# 服务器配置
SERVER_PORT=8080
SERVER_HOST=0.0.0.0

# 数据库配置
DATABASE_URL=todoapp.db

# -----------------------------------------------------------------------------
# 安全配置
# -----------------------------------------------------------------------------

# 登录速率限制
MAX_LOGIN_ATTEMPTS=5              # 最大失败尝试次数
LOGIN_ATTEMPT_WINDOW=15m          # 失败计数窗口时间
LOCKOUT_DURATION=30m              # 账户锁定时长

# Token 有效期
ACCESS_TOKEN_DURATION=15m         # 访问令牌有效期
REFRESH_TOKEN_DURATION=168h       # 刷新令牌有效期（7天）

# WebSocket 加密配置
# 生产环境建议设为 true，强制加密连接
ENFORCE_WS_ENCRYPTION=false

# HTTPS 自动重定向（仅生产环境）
AUTO_REDIRECT_HTTPS=false

# 数据库加密密钥（AES-256-GCM，32字节hex格式）
# 用于设备配对的端到端加密
# 生成方式: openssl rand -hex 32
ENCRYPTION_KEY=0000000000000000000000000000000000000000000000000000000000000000

# -----------------------------------------------------------------------------
# 功能配置
# -----------------------------------------------------------------------------

# 导出功能配置
EXPORT_STREAMING_ENABLED=true     # 启用流式导出（降低大文件内存占用）

# 通知保留天数（默认30天）
NOTIFICATION_RETENTION_DAYS=30
